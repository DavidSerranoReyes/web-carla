---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header';
import Footer from '../components/Footer';
import FilmCard from '../components/FilmCard';
import ArticleCard from '../components/ArticleCard';
import CriticismCard from '../components/CriticismCard';
import '../styles/PortfolioCards.css';

const base = import.meta.env.BASE_URL;
---

<Layout
  title="Portfolio - Carla Larrea Sánchez"
  description="Explora el portfolio de Carla Larrea: films premiados internacionalmente, artículos académicos sobre cine y derechos humanos, y crítica cinematográfica."
>
  <div transition:persist="header">
    <Header client:load />
  </div>

  <main class="portfolio-main" transition:animate="slide">
    <div class="container">
      <h1 class="page-title fade-in">Portfolio</h1>

      <section class="portfolio-section fade-in">
        <h2 class="section-title" data-es="Films" data-en="Films">Films</h2>

        <FilmCard
          client:only="react"
          title="INDELEBLE"
          titleEn="INDELIBLE"
          year="2016"
          duration="11:46 min"
          country="México"
          posterImage={`${base}images/films/indeleble.jpg`}
          galleryImages={[
            `${base}images/films/indeleble1.jpg`,
            `${base}images/films/indeleble2.jpg`,
            `${base}images/films/indeleble3.jpg`,
          ]}
          synopsis="Una noche antes de irse a estudiar al extranjero, José sale de fiesta con Milena, su mejor amiga. Después de un coqueteo mutuo, finalmente, Milena rechaza a José. Al concluir la noche, sucederá algo que cambiará su relación y a ellos, para siempre."
          synopsisEn="The night before leaving to study abroad, José goes out partying with Milena, his best friend. After mutual flirting, Milena finally rejects José. At the end of the night, something will happen that will change their relationship and them, forever."
          director="Carla Larrea Sánchez"
          festivals={[
            'Festival Internacional de Cine de Morelia 2016 - Selección oficial',
            'Festival Pantalla de Cristal 2016 - Premio "Mejor Banda Sonora"',
            'CECEACHERO FILM FEST 2017 - Premio del público',
            'CHOUFTOUHONNA, Tunis International Feminist Art Festival 2017 - Premio "Coup de coeur"',
            'Festival Internacional de Cine de Quito 2017',
          ]}
          festivalsEn={[
            'Morelia International Film Festival 2016 - Official Selection',
            'Pantalla de Cristal Festival 2016 - "Best Soundtrack" Award',
            'CECEACHERO FILM FEST 2017 - Audience Award',
            'CHOUFTOUHONNA, Tunis International Feminist Art Festival 2017 - "Coup de coeur" Award',
            'Quito International Film Festival 2017',
          ]}
          pdfUrl={`${base}films/indeleble-ficha.pdf`}
          trailerUrl="https://www.youtube.com/watch?v=rEprGd9fESk"
          fullFilmUrl="https://vimeo.com/176618936"
        />

        <FilmCard
          client:only="react"
          title="POR MAGDA"
          titleEn="FOR MAGDA"
          year="2022"
          duration="14:43 min"
          country="México"
          posterImage={`${base}images/films/pormagda.jpg`}
          galleryImages={[`${base}images/films/pormagda1.jpg`, `${base}images/films/pormagda2.jpg`]}
          synopsis="Josefina (35) y su hija Magda (12) emprenden un viaje al interior de las montañas andinas de Ecuador con la intención de encontrar refugio y así, tener la posibilidad de asegurarse un futuro libre a pesar de que su decisión las puede llevar a prisión, a ellas y a las mujeres de quienes reciben ayuda, en un país en el que el aborto, incluso en casos de violación, es ilegal y está penalizado."
          synopsisEn="Josefina (35) and her daughter Magda (12) undertake a trip to the interior of the Andean mountains of Ecuador with the intention of finding refuge and thus having the possibility of ensuring a free future despite the fact that their decision could lead them to prison, to them and to the women from whom they receive help, in a country where abortion, even in cases of rape, is illegal and punishable."
          director="Carla Larrea Sánchez"
          festivals={[
            'Canada Shorts Film Festival 2022 - Mejor Película Estudiantil',
            'Festival de Málaga 2023 - Biznaga de Plata Primer Premio',
            'Festival Internacional de Cine de Morelia 2022',
            'Festival Internacional de Cine de Quito 2022',
            'Festival Internacional de Cortometraje de São Paulo 2022',
            'Toronto International Women Film Festival 2022',
          ]}
          festivalsEn={[
            'Canada Shorts Film Festival 2022 - Best Student Film',
            'Málaga Festival 2023 - Silver Biznaga First Prize',
            'Morelia International Film Festival 2022',
            'Quito International Film Festival 2022',
            'São Paulo International Short Film Festival 2022',
            'Toronto International Women Film Festival 2022',
          ]}
          pdfUrl={`${base}films/PORMAGDA2.pdf`}
          trailerUrl="https://www.youtube.com/watch?v=OP45hzcx9R8"
          fullFilmUrl="https://vimeo.com/657537728"
        />

        <FilmCard
          client:only="react"
          title="TIONIZA"
          titleEn="TIONIZA"
          year="En desarrollo / In development"
          duration="80 min"
          country="Ecuador"
          posterImage={`${base}images/films/tioniza-poster.jpg`}
          galleryImages={[
            `${base}images/films/tioniza.jpg`,
            `${base}images/films/tioniza1.jpg`,
            `${base}images/films/tioniza2.jpg`,
            `${base}images/films/tioniza3.jpg`,
            `${base}images/films/tioniza4.jpg`,
          ]}
          synopsis="TIONIZA es un documental autobiográfico que sigue a Carla, una joven cineasta ecuatoriana, tras un intento de suicidio. Este acto es el resultado de micro y macro violencias por el hecho de ser mujer, que enfrentó en silencio desde la infancia. Carla, junto a sus primas, emprende el ascenso al volcán Ilinizas en los Andes ecuatorianos para ir, por primera vez, al sitio en el que reposan las cenizas de su abuelo, Jorge 'El Pájaro' Larrea, un pionero del andinismo en Ecuador. El volcán tiene dos cumbres: la cumbre del sur se llama Iliniza (cerro varón), y la cumbre del norte se llama TIONIZA (cerro mujer), pero nadie la nombra. El encuentro de Carla con TIONIZA es una travesía metafórica y física que refleja la invisibilidad de ser mujer."
          synopsisEn="TIONIZA is an autobiographical documentary that follows Carla, a young Ecuadorian filmmaker, after a suicide attempt. This act is the result of micro and macro violence for being a woman, which she faced in silence since childhood. Carla, together with her cousins, undertakes the ascent to the Ilinizas volcano in the Ecuadorian Andes to go, for the first time, to the site where the ashes of her grandfather, Jorge 'El Pájaro' Larrea, a pioneer of mountaineering in Ecuador, rest. The volcano has two summits: the southern summit is called Iliniza (male mountain), and the northern summit is called TIONIZA (female mountain), but no one names it. Carla's encounter with TIONIZA is a metaphorical and physical journey that reflects the invisibility of being a woman."
          director="Carla Larrea Sánchez"
          festivals={[
            'Documental de creación - 80 minutos',
            'Idioma: Español',
            'Color / Dolby Digital',
            'Aspect ratio: 1:85:1',
            'Teaser disponible (contraseña: tioniza2023)',
          ]}
          festivalsEn={[
            'Creative Documentary - 80 minutes',
            'Language: Spanish',
            'Color / Dolby Digital',
            'Aspect ratio: 1:85:1',
            'Teaser available (password: tioniza2023)',
          ]}
          pdfUrl={`${base}films/Tionizadosier.pdf`}
          trailerUrl="https://vimeo.com/915796879"
        />

        <FilmCard
          client:only="react"
          title="EL SECRETO DE LÍA"
          titleEn="LÍA'S SECRET"
          year="En desarrollo / In development"
          duration="TBD"
          country="Ecuador"
          posterImage={`${base}images/films/secreto-lia.jpeg`}
          galleryImages={[]}
          synopsis="Lía, una profesora de 35 años, parece llevar una vida estable junto a Santiago, su compañero desde hace años, y sus dos mejores amigas, Eva y Lola. Sin embargo, su mundo se desmorona cuando descubre que Santiago mantiene una relación secreta con su prima Gabriela. Al mismo tiempo, un diagnóstico médico inesperado —cáncer de cuello uterino avanzado— la enfrenta a una cirugía radical que cambiará su cuerpo y su vida para siempre. Mientras Lola lidia con las secuelas de un aborto y Eva explora una relación atípica, las tres amigas se verán forzadas a confrontar mentiras, secretos y la fragilidad de sus propios vínculos. El Secreto de Lía es una historia íntima y conmovedora sobre la traición, la sororidad, la salud femenina y el coraje de reconstruirse cuando todo parece desmoronarse."
          synopsisEn="Lía, a 35-year-old teacher, seems to lead a stable life with Santiago, her partner of many years, and her two best friends, Eva and Lola. However, her world crumbles when she discovers that Santiago is secretly involved with her cousin Gabriela. At the same time, an unexpected medical diagnosis—advanced cervical cancer—forces her to face radical surgery that will change her body and her life forever. While Lola deals with the aftermath of an abortion and Eva explores an unconventional relationship, the three friends are forced to confront lies, secrets, and the fragility of their own bonds. Lía's Secret is an intimate and moving story about betrayal, sisterhood, women's health, and the courage to rebuild when everything seems to fall apart."
          director="Carla Larrea Sánchez"
          festivals={['Proyecto en desarrollo', 'Largometraje de ficción']}
          festivalsEn={['Project in development', 'Fiction feature film']}
          pdfUrl={`${base}films/secretolia.pdf`}
        />
      </section>

      <section class="portfolio-section fade-in">
        <h2 class="section-title" data-es="Artículos Académicos" data-en="Academic Articles">
          Artículos Académicos
        </h2>
        <div class="portfolio-grid">
          <!-- ARTÍCULOS PUBLICADOS -->
          <ArticleCard
            client:load
            title="Pertinencia para la Creación de la Licenciatura en cine, y su Empleabilidad, caso Ecuador"
            titleEn="Relevance for the Creation of a Bachelor's Degree in Cinema, and its Employability, Ecuador Case"
            journal="Apuntes de Ciencia y Sociedad"
            journalEn="Apuntes de Ciencia y Sociedad"
            year="2025"
            authors={['Carla Larrea Sánchez']}
            abstract="Artículo académico sobre la pertinencia y empleabilidad de la Licenciatura en Cine en Ecuador."
            abstractEn="Academic article on the relevance and employability of a Bachelor's Degree in Cinema in Ecuador."
            keywords={['cine', 'educación', 'empleabilidad', 'Ecuador']}
            keywordsEn={['cinema', 'education', 'employability', 'Ecuador']}
            externalUrl="https://www.researchgate.net/publication/390362127_Pertinencia_para_la_Creacion_de_la_Licenciatura_en_cine_y_su_Empleabilidad_caso_Ecuador"
          />

          <ArticleCard
            client:load
            title="Suicidio Feminicida: Una Urgencia Pendiente en las Políticas Públicas de América Latina y el Caribe"
            titleEn="Femicide Suicide: An Urgent Pending Matter in Public Policies of Latin America and the Caribbean"
            journal="Revista Contemporánea"
            journalEn="Revista Contemporánea"
            year="2025"
            authors={['Carla Larrea Sánchez']}
            abstract="Análisis crítico sobre el suicidio feminicida como fenómeno social y la necesidad de políticas públicas en América Latina y el Caribe."
            abstractEn="Critical analysis of femicide suicide as a social phenomenon and the need for public policies in Latin America and the Caribbean."
            keywords={['suicidio feminicida', 'derechos humanos', 'género', 'políticas públicas']}
            keywordsEn={['femicide suicide', 'human rights', 'gender', 'public policies']}
            externalUrl="https://ojs.revistacontemporanea.com/ojs/index.php/home/article/view/7386"
          />

          <ArticleCard
            client:load
            title="Roma o la Reinvención de la Porno-Miseria Latinoamericana"
            titleEn="Roma or the Reinvention of Latin American Porno-Misery"
            journal="Direitos Humanos e Cinema. Um Convite para o Diálogo"
            journalEn="Human Rights and Cinema. An Invitation to Dialogue"
            year="2024"
            authors={['Carla Larrea Sánchez']}
            abstract="Capítulo de libro que analiza la película Roma desde la perspectiva de derechos humanos y representación cinematográfica."
            abstractEn="Book chapter analyzing the film Roma from the perspective of human rights and cinematographic representation."
            keywords={['cine', 'derechos humanos', 'representación', 'crítica cinematográfica']}
            keywordsEn={['cinema', 'human rights', 'representation', 'film criticism']}
            externalUrl="https://editorabagai.com.br/product/direitos-humanos-e-cinema-um-convite-para-o-dialogo/"
          />
        </div>
      </section>

      <section class="portfolio-section fade-in">
        <h2 class="section-title" data-es="Crítica Cinematográfica" data-en="Film Criticism">
          Crítica Cinematográfica
        </h2>
        <div class="articles-list">
          <article class="article-item">
            <h3>EDOC: documentos sobre la inolvidable experiencia de vivir</h3>
            <p class="article-publication">La Barra Espaciadora • Mayo 2018</p>
            <a
              href="https://www.labarraespaciadora.com/culturas/edoc-encuentros-del-otro-cine/"
              target="_blank"
              class="article-link"
              data-es="Leer artículo →"
              data-en="Read article →">Leer artículo →</a
            >
          </article>

          <article class="article-item">
            <h3>Everardo González y su radiografía del dolor humano</h3>
            <p class="article-publication">La Barra Espaciadora • Mayo 2018</p>
            <a
              href="https://www.labarraespaciadora.com/culturas/everardo-gonzalez-sus-relatos-cinematograficos-y-raidografias-del-dolor-humano/"
              target="_blank"
              class="article-link"
              data-es="Leer artículo →"
              data-en="Read article →">Leer artículo →</a
            >
          </article>

          <article class="article-item">
            <h3>Siguiente Round: cine documental que transforma</h3>
            <p class="article-publication">La Barra Espaciadora • Mayo 2018</p>
            <a
              href="https://www.labarraespaciadora.com/culturas/siguiente-round-cuando-el-cine-documental-ayuda-a-transformar-realidades/"
              target="_blank"
              class="article-link"
              data-es="Leer artículo →"
              data-en="Read article →">Leer artículo →</a
            >
          </article>

          <article class="article-item">
            <h3>Heloísa Passos, la hacedora de puentes</h3>
            <p class="article-publication">La Barra Espaciadora • Mayo 2018</p>
            <a
              href="https://www.labarraespaciadora.com/culturas/heloisa-passos/"
              target="_blank"
              class="article-link"
              data-es="Leer artículo →"
              data-en="Read article →">Leer artículo →</a
            >
          </article>

          <article class="article-item">
            <h3>El Agujero negro en el que nos miramos</h3>
            <p class="article-publication">La Barra Espaciadora • Septiembre 2018</p>
            <a
              href="https://www.labarraespaciadora.com/culturas/el-agujero-negro-en-el-que-nos-miramos/"
              target="_blank"
              class="article-link"
              data-es="Leer artículo →"
              data-en="Read article →">Leer artículo →</a
            >
          </article>

          <article class="article-item">
            <h3>Eurocine: el puente de las miradas transgresoras</h3>
            <p class="article-publication">La Barra Espaciadora • Septiembre 2018</p>
            <a
              href="https://www.labarraespaciadora.com/culturas/eurocine-el-puente-de-las-miradas-transgresoras/"
              target="_blank"
              class="article-link"
              data-es="Leer artículo →"
              data-en="Read article →">Leer artículo →</a
            >
          </article>

          <article class="article-item">
            <h3>A Son of Man: un relato desde la opulencia</h3>
            <p class="article-publication">La Barra Espaciadora • Diciembre 2018</p>
            <a
              href="https://www.labarraespaciadora.com/culturas/a-son-of-man/"
              target="_blank"
              class="article-link"
              data-es="Leer artículo →"
              data-en="Read article →">Leer artículo →</a
            >
          </article>
        </div>
      </section>
    </div>
  </main>

  <div transition:persist="footer">
    <Footer />
  </div>
</Layout>

<style>
  .portfolio-main {
    min-height: 100vh;
    padding-top: 120px;
    padding-bottom: var(--spacing-xl);
  }

  .page-title {
    text-align: center;
    margin-bottom: var(--spacing-lg);
  }

  .portfolio-section {
    margin-bottom: var(--spacing-xl);
  }

  .portfolio-section h2 {
    margin-bottom: var(--spacing-md);
    border-bottom: 2px solid var(--color-accent);
    padding-bottom: var(--spacing-sm);
  }

  .portfolio-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--spacing-md);
  }

  .coming-soon-card {
    padding: var(--spacing-xl);
    border: 2px dashed var(--color-border);
    border-radius: var(--radius-md);
    text-align: center;
    color: var(--color-text-secondary);
    font-style: italic;
    min-height: 200px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .coming-soon-card p {
    margin: 0;
  }

  .articles-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
  }

  .article-item {
    padding: var(--spacing-md) var(--spacing-lg);
    border-left: 4px solid var(--color-accent);
    background: var(--color-card-bg);
    border-radius: var(--radius-md);
    transition: all var(--transition-normal);
  }

  .article-item:hover {
    border-left-color: var(--color-accent);
    transform: translateX(8px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  }

  .article-item h3 {
    margin: 0 0 var(--spacing-sm) 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color-text);
  }

  .article-publication {
    margin: 0 0 var(--spacing-sm) 0;
    font-size: 0.9rem;
    color: var(--color-text-secondary);
    font-style: italic;
  }

  .article-link {
    display: inline-block;
    color: var(--color-accent);
    text-decoration: none;
    font-weight: 600;
    transition: all var(--transition-fast);
  }

  .article-link:hover {
    color: var(--color-text);
    transform: translateX(4px);
  }

  .portfolio-card {
    padding: var(--spacing-md);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-md);
    transition: all var(--transition-normal);
  }

  .portfolio-card:hover {
    border-color: var(--color-accent);
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  }

  .portfolio-card h3 {
    margin-bottom: var(--spacing-sm);
  }

  /* FilmCard Styles */
  :global(.film-card) {
    background: var(--color-card-bg);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
    margin-bottom: var(--spacing-xl);
    transition: all var(--transition-normal);
  }

  :global(.film-card:hover) {
    border-color: var(--color-accent);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  }

  /* Poster principal más grande y prominente */
  :global(.film-poster-large) {
    position: relative;
    width: 100%;
    height: 1300px;
    overflow: hidden;
  }

  :global(.film-poster-large img) {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-slow);
  }

  :global(.film-card:hover .film-poster-large img) {
    transform: scale(1.03);
  }

  :global(.film-overlay) {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(
      to top,
      rgba(0, 0, 0, 0.95) 0%,
      rgba(0, 0, 0, 0.85) 40%,
      rgba(0, 0, 0, 0.6) 70%,
      transparent 100%
    );
    padding: var(--spacing-xl);
    color: white;
  }

  :global(.film-title) {
    font-size: 3rem;
    margin-bottom: var(--spacing-xs);
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  }

  :global(.film-meta) {
    font-size: 1.2rem;
    opacity: 0.95;
    margin-bottom: var(--spacing-xs);
  }

  :global(.film-director) {
    font-size: 1.1rem;
    opacity: 0.9;
    font-style: italic;
  }

  /* Ensure meta/director text stays visible on top of poster overlay in all themes */
  :global(.film-meta),
  :global(.film-director) {
    color: #e6eef8 !important; /* light bluish to match dark mode */
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
  }

  :global(.film-content) {
    padding: var(--spacing-xl);
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Galería de imágenes más compacta */
  :global(.film-gallery) {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-xl);
    justify-items: center;
  }

  :global(.film-gallery img) {
    width: 100%;
    max-width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: var(--radius-sm);
    transition: all var(--transition-normal);
    cursor: pointer;
  }

  /* Centrar la última imagen si queda sola */
  :global(.film-gallery img:last-child:nth-child(4)) {
    grid-column: 2 / 3;
  }

  :global(.film-gallery img:hover) {
    transform: scale(1.05);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
  }

  /* Contenido centrado y bien espaciado */
  :global(.film-info-center) {
    max-width: 900px;
    margin: 0 auto;
  }

  :global(.film-section) {
    margin-bottom: var(--spacing-xl);
    text-align: center;
  }

  :global(.film-section h3) {
    font-size: 1.8rem;
    margin-bottom: var(--spacing-md);
    color: var(--color-accent);
    text-transform: uppercase;
    letter-spacing: 2px;
  }

  :global(.film-synopsis) {
    line-height: 1.9;
    text-align: justify;
    font-size: 1.1rem;
    padding: 0 var(--spacing-md);
  }

  :global(.film-festivals) {
    list-style: none;
    padding: 0;
    text-align: left;
    display: inline-block;
  }

  :global(.film-festivals li) {
    padding: var(--spacing-sm) var(--spacing-md);
    position: relative;
    padding-left: 2rem;
    margin-bottom: var(--spacing-xs);
    line-height: 1.6;
  }

  :global(.film-festivals li::before) {
    content: '★';
    position: absolute;
    left: 0.25rem;
    color: var(--color-accent);
    font-size: 1.3rem;
  }

  /* Trailer en miniatura */
  :global(.trailer-thumbnail) {
    position: relative;
    cursor: pointer;
    border-radius: var(--radius-md);
    overflow: hidden;
    max-width: 600px;
    margin: 0 auto;
    transition: all var(--transition-normal);
  }

  :global(.trailer-thumbnail:hover) {
    transform: scale(1.02);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  }

  :global(.trailer-thumbnail img) {
    width: 100%;
    height: auto;
    display: block;
  }

  :global(.play-button) {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: all var(--transition-normal);
  }

  :global(.trailer-thumbnail:hover .play-button) {
    transform: translate(-50%, -50%) scale(1.1);
  }

  :global(.trailer-embed) {
    position: relative;
    padding-bottom: 56.25%;
    height: 0;
    overflow: hidden;
    max-width: 800px;
    margin: 0 auto;
    border-radius: var(--radius-md);
  }

  :global(.trailer-embed iframe) {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: var(--radius-md);
  }

  /* Botones de acción más compactos */
  :global(.film-actions) {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    flex-wrap: wrap;
    margin-top: var(--spacing-xl);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
  }

  :global(.btn-action) {
    padding: var(--spacing-sm) var(--spacing-lg);
    border: 2px solid var(--color-accent);
    background: transparent;
    color: var(--color-text);
    border-radius: var(--radius-full);
    font-family: var(--font-main);
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
    text-transform: uppercase;
    letter-spacing: 1px;
    min-width: 200px;
  }

  :global(.btn-action:hover) {
    background: var(--color-accent);
    color: var(--color-bg);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.2);
  }

  :global(.btn-action:active) {
    transform: translateY(0);
  }

  @media (max-width: 768px) {
    .portfolio-main {
      padding-top: 80px;
      min-height: auto;
      overflow-x: hidden;
    }

    .page-title {
      font-size: 2rem;
      margin-bottom: var(--spacing-md);
    }

    .portfolio-section {
      margin-bottom: var(--spacing-lg);
      opacity: 1;
      transform: none;
    }

    .section-title {
      font-size: 1.5rem;
    }

    .container {
      padding: 0 var(--spacing-sm);
      width: 100%;
      max-width: 100%;
    }

    .portfolio-grid {
      grid-template-columns: 1fr;
      gap: var(--spacing-md);
    }

    /* Asegurar que film-card sea visible en móvil */
    :global(.film-card) {
      opacity: 1 !important;
      transform: none !important;
      animation: none !important;
      margin-bottom: var(--spacing-lg);
      display: block;
      width: 100%;
    }

    :global(.film-poster-large) {
      height: 400px;
      width: 100%;
    }

    :global(.film-title) {
      font-size: 1.6rem;
    }

    :global(.film-meta),
    :global(.film-director) {
      font-size: 0.95rem;
    }

    :global(.film-content) {
      padding: var(--spacing-md);
    }

    :global(.film-section h3) {
      font-size: 1.4rem;
    }

    :global(.film-synopsis) {
      font-size: 1rem;
      padding: 0;
    }

    :global(.film-gallery) {
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: var(--spacing-sm);
    }

    :global(.film-gallery img) {
      height: 150px;
    }

    :global(.film-actions) {
      flex-direction: column;
      gap: var(--spacing-sm);
    }

    :global(.btn-action) {
      min-width: 100%;
      font-size: 0.9rem;
    }

    :global(.trailer-thumbnail),
    :global(.trailer-embed) {
      max-width: 100%;
      width: 100%;
    }

    /* Mantener animaciones en móvil pero más suaves */
    .portfolio-section {
      opacity: 0;
      transform: translateY(20px);
      transition:
        opacity 0.5s ease,
        transform 0.5s ease;
    }

    .portfolio-section.animate-in {
      opacity: 1;
      transform: translateY(0);
    }

    :global(.film-section) {
      opacity: 1;
      transform: none;
    }
  }

  /* Animaciones solo para desktop */
  @media (min-width: 769px) {
    /* Scroll animations only for static Astro elements */
    .portfolio-section {
      opacity: 0;
      transform: translateY(30px);
      transition:
        opacity 0.6s ease,
        transform 0.6s ease;
    }

    .portfolio-section.animate-in {
      opacity: 1;
      transform: translateY(0);
    }

    /* Animación suave para React components en desktop */
    :global(.film-card) {
      opacity: 1;
      animation: fadeInUp 0.6s ease forwards;
    }

    /* Simple fade-in keyframe for React components */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }
</style>

<script>
  function updateLanguage() {
    const currentLang = localStorage.getItem('language') || 'es';

    // Update section titles
    document.querySelectorAll('[data-es][data-en]').forEach((element) => {
      const htmlElement = element as HTMLElement;
      if (currentLang === 'en') {
        htmlElement.textContent = htmlElement.getAttribute('data-en') || '';
      } else {
        htmlElement.textContent = htmlElement.getAttribute('data-es') || '';
      }
    });
  }

  // Scroll animations for mobile
  function initScrollAnimations() {
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px',
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-in');
        }
      });
    }, observerOptions);

    // Observe only static Astro elements, NOT React components
    document.querySelectorAll('.portfolio-section').forEach((el) => {
      observer.observe(el);
    });
  }

  // Update on page load
  updateLanguage();
  initScrollAnimations();

  // Update when language changes
  window.addEventListener('storage', (e) => {
    if (e.key === 'language') {
      updateLanguage();
    }
  });

  // Update after View Transitions
  document.addEventListener('astro:after-swap', () => {
    updateLanguage();
    initScrollAnimations();
  });
</script>
